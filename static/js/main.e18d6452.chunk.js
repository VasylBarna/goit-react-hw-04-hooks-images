(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={image:"ImageGalleryItem_image__39yBB"}},13:function(e,t,a){e.exports={overlay:"Modal_overlay__ozS5R",modal:"Modal_modal__2cRze"}},14:function(e,t,a){e.exports={container:"Button_container__32yqD",button:"Button_button__2eJao"}},16:function(e,t,a){e.exports={container:"Container_container__5OlK6"}},18:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__3PYGo",imageGalleryItem:"ImageGallery_imageGalleryItem__3sJ8S"}},27:function(e,t,a){},4:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__2Ixyh",searchForm:"Searchbar_searchForm__2Wi2g",button:"Searchbar_button__3_fhF",label:"Searchbar_label__2g7SV",input:"Searchbar_input__1ErjK"}},51:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(6),o=a.n(c),i=(a(26),a(27),a(3)),s=a(16),u=a.n(s),l=a(0),b=function(e){var t=e.children;return Object(l.jsx)("div",{className:u.a.container,children:t})},m=a(4),g=a.n(m);function h(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(i.a)(a,2),c=r[0],o=r[1];return Object(l.jsx)("header",{className:g.a.searchbar,children:Object(l.jsxs)("form",{className:g.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u043e\u0447\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435")},children:[Object(l.jsx)("button",{type:"submit",className:g.a.button,children:Object(l.jsx)("span",{className:g.a.label,children:"Search"})}),Object(l.jsx)("input",{className:g.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}var j=a(15),d=a(11),f=a.n(d),p=a(17),O=a(8),_=a(9),v=function(){function e(){Object(O.a)(this,e),this.query="",this.pageNumber=1,this.perPage=12}return Object(_.a)(e,[{key:"fetchImages",value:function(){var e=Object(p.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pixabay.com","/api/?image_type=photo&orientation=horizontal&q=").concat(this.query,"&page=").concat(this.pageNumber,"&per_page=").concat(this.perPage,"&key=").concat("21930090-2f4bfee534669e28d6350f360"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,this.incrementPage(),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"incrementPage",value:function(){this.pageNumber+=1}},{key:"resetPage",value:function(){this.pageNumber=1}}]),e}(),x=a(2),y=a.n(x),S=a(12),N=a.n(S),w=function(e){var t=e.id,a=e.url,n=e.tags,r=e.largeImage,c=e.toggleModal,o=e.handleLargeImage;return Object(l.jsx)("li",{className:N.a.imageGallery,onClick:function(){return c(),void o(r)},children:Object(l.jsx)("img",{className:N.a.image,src:a,alt:n})},t)};w.propeType={id:y.a.string.isRequired,url:y.a.string.isRequired,tags:y.a.string.isRequired,largeImage:y.a.string.isRequired,toggleModal:y.a.func.isRequired,handleLargeImage:y.a.func.isRequired};var I=w,k=a(13),C=a.n(k),q=document.querySelector("#modal-root");function F(e){var t=e.onClose,a=e.children;Object(n.useEffect)((function(){function e(e){"Escape"===e.code&&t()}return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t]);return Object(c.createPortal)(Object(l.jsx)("div",{className:C.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(l.jsx)("div",{className:C.a.modal,children:a})}),q)}var L=a(14),G=a.n(L),R=function(e){var t=e.onClick;return Object(l.jsx)("div",{className:G.a.container,children:Object(l.jsx)("button",{className:G.a.button,type:"button",onClick:t,children:"Load more..."})})},P=a(18),E=a.n(P),B=a(21),M=a(20),T=a(19),J=a.n(T),z=(a(50),function(e){Object(B.a)(a,e);var t=Object(M.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(_.a)(a,[{key:"render",value:function(){return Object(l.jsx)(J.a,{type:"Bars",color:"#FF8C00",height:300,width:300,timeout:2e3})}}]),a}(n.Component)),D=new v;function K(e){var t=e.imageName,a=Object(n.useState)([]),r=Object(i.a)(a,2),c=r[0],o=r[1],s=Object(n.useState)(!1),u=Object(i.a)(s,2),b=u[0],m=u[1],g=Object(n.useState)(""),h=Object(i.a)(g,2),d=h[0],f=h[1],p=Object(n.useState)(!1),O=Object(i.a)(p,2),_=O[0],v=O[1];Object(n.useEffect)((function(){""!==t&&(o([]),D.query=t,v(!0),S(),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}))}),[t]);var x=function(){m((function(e){return!e}))},y=function(e){f(e)},S=function(){v(!0),D.fetchImages().then((function(e){var t=e.hits;return o((function(e){return[].concat(Object(j.a)(e),Object(j.a)(t))}))})).catch((function(e){return console.log(e)})).finally(v(!1))};return Object(l.jsxs)(l.Fragment,{children:[b&&Object(l.jsx)(F,{onClose:x,children:Object(l.jsx)("img",{src:d,alt:"images"})}),Object(l.jsx)("ul",{className:E.a.imageGallery,children:c.map((function(e){var t=e.id,a=e.webformatURL,n=e.tags,r=e.largeImageURL;return Object(l.jsx)(I,{url:a,tags:n,largeImage:r,toggleModal:x,handleLargeImage:y},t)}))}),c.length>0&&!_&&Object(l.jsx)(R,{onClick:function(){S()}}),_&&Object(l.jsx)(z,{})]})}function U(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(l.jsxs)(b,{children:[Object(l.jsx)(h,{onSubmit:function(e){r(e)}}),Object(l.jsx)(K,{imageName:a})]})}var H=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,52)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(U,{})}),document.getElementById("root")),H()}},[[51,1,2]]]);
//# sourceMappingURL=main.e18d6452.chunk.js.map